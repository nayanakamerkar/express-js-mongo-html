 <!DOCTYPE html>
<html>
<head>
	<title>Test project</title>
    <style >
 
    </style>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script>
		window.onload = function()
		{

			document.getElementById("save").style.visibility="hidden";
			document.getElementById("reset").onclick=onreset;
			createTable();
			displayState();
			//onUpdateClick();
			$("form").submit(function(e){
				e.preventDefault();
				insert();
			})

			// function onUpdateClick()                                           //Update Function
			// {
			// 	document.getElementById("submit").style.visibility="hidden";
			// 	document.getElementById("save").style.visibility="visible";
			// 	document.getElementById("city-data").style.visibility="visible";
			// 	//console.log(this.getAttribute("oid"));
			// 	var ids=this.getAttribute("oid");

			// 	var table=document.getElementById("table");  
			// 	var row=this.parentElement.parentElement;                
			// 	// for(var i=0;i<table.rows.length;i++)
			// 	// {
			// 	// 	table.rows[i].onclick=function()
			// 	// 	{    
			// 			console.log(this.rowIndex);
			// 			// rowi=this.rowIndex;
			// 			//var rowData=this;
			// 			//document.getElementById("save").style.visibility="visible";         //to show row in textbox
			// 			//document.getElementById("submit").style.visibility="hidden";					
			// 			document.getElementById("name").value=row.cells[2].innerText;
			// 			document.getElementById("mobile").value=row.cells[3].innerText;
			// 			document.getElementById("address").value=row.cells[4].innerText;
			// 			document.getElementById("state").value=row.cells[5].innerText;
			// 			if((row.cells[5].innerText)=="Maharashtra")                         //for showing cities of state
			// 			{
			// 				var list2="<select class=\"col-sm-10 form-control\" name=\"city\"  id=\"city\">\
			// 				    <option value=\"dombivali\">Dombivli</option>\
			// 				    <option value=\"Bhandup\">Bhandup</option>\
			// 				    <option value=\"Uran\">Uran</option>\
			// 				    <option value=\"Navi Mumbai\">Navi Mumbai</option>\
			// 					</select>";
			// 					document.getElementById("city-data").style.visibility = "visible";
			// 					document.getElementById("city-data").innerHTML = list2;
			// 					document.getElementById("city").value=row.cells[6].innerText;
			// 			}
			// 			else if((row.cells[5].innerText)=="Goa")
			// 			{

			// 				var list2="<select class=\"col-sm-10 form-control\" name=\"city\"  id=\"city\">\
			// 				    <option value=\"Panjim\">Panjim</option>\
			// 				    <option value=\"Vasco da Gama\">Vasco da Gama</option>\
			// 				    <option value=\"Margao\">Margao</option>\
			// 					</select>";
			// 					document.getElementById("city-data").style.visibility = "visible";
			// 					document.getElementById("city-data").innerHTML = list2;
			// 					document.getElementById("city").value=row.cells[6].innerText;
			// 			}else if((row.cells[5].innerText)=="Kerala")
			// 			{
			// 				var list2="<select class=\"col-sm-10 form-control\" name=\"city\"  id=\"city\">\
			// 				    <option value=\"Kochi\">Kochi</option>\
			// 				    <option value=\"Munnar\">Munnar</option>\
			// 				    <option value=\"Kunar\">Kunar</option>\
			// 					</select>";
			// 					document.getElementById("city-data").style.visibility = "visible";
			// 					document.getElementById("city-data").innerHTML = list2;
			// 					document.getElementById("city").value=row.cells[6].innerText;
			// 			}
			// 			else
			// 			{
			// 				var list2="<select class=\"col-sm-10 form-control\" name=\"city\"  id=\"city\">\
			// 				    <option value=\"Siliguri\">Siliguri</option>\
			// 				    <option value=\"Durgapur\">Durgapur</option>\
			// 					</select>";
			// 					document.getElementById("city-data").style.visibility = "visible";
			// 					document.getElementById("city-data").innerHTML = list2;
			// 					document.getElementById("city").value=row.cells[6].innerText;
			// 			}


			// 			document.getElementById("city").value=row.cells[6].innerText;
			// 			if(row.cells[7].innerText=="Female")
			// 			{
			// 				document.getElementById("female").checked=true;
			// 				document.getElementById("male").checked=false;
			// 			}
			// 			else
			// 			{
			// 				document.getElementById("male").checked=true;
			// 				document.getElementById("female").checked=false;
			// 			}
			// 			document.getElementById("save").onclick = function() 	       //to save the changes made 
			// 			{


			// 				//console.log(this);
			// 				//console.log(rowi);
			// 				var myData={};
			// 				//document.getElementById("submit").style.visibility="visible";
			// 				//document.getElementById("save").style.visibility="hidden";
			// 				var name=document.getElementById('name');
			// 				var mobile=document.getElementById('mobile');
							
			// 				if(inputAlphabet(name))
			// 			    {
			// 			      //if(textNumeric(mobile,"*Only numbers")){
			// 			       	//if(lengthdefine(mobile,10,10)){
			// 			              return name.value;
			// 			         // }

			// 			       //}   
			// 			    }


			// 			    function inputAlphabet(inputtext, alertMsg)      //validation on entered data
			// 				{
			// 					var alphaExp = /^[a-zA-Z]+$/;
			// 					var numericExpression = /^[0-9]+$/;
			// 					if (inputtext.value.match(alphaExp)) 
			// 					{
			// 						document.getElementById("p1").innerHTML=" ";
			// 						if(mobile.value.match(numericExpression))
			// 						{
			// 							document.getElementById("p2").innerHTML=" ";
			// 							console.log("clicked");
			// 							var myData = {};
			// 			        		myData.name = document.getElementById("name").value;
			// 			        		//console.log(myData.name);
			// 			        		myData.mobile = document.getElementById("mobile").value;
			// 			        		console.log(myData.mobile);
			// 			        		myData.address = document.getElementById("address").value;				        		
			// 			        		console.log(myData.address);
			// 			        		myData.state = document.getElementById("state").value;
			// 			        		console.log(myData.state);
			// 			        		myData.city = document.getElementById("city").value;
			// 			        		console.log(myData.city);				        		
			// 			        		if(document.getElementById("female").checked)
			// 			        			myData.gender=document.getElementById("female").value;
			// 			        		else myData.gender=document.getElementById("male").value;
			// 			    			console.log(myData.gender);
			// 			    			if(!myData.name || !myData.mobile || !myData.address || !myData.state)
			// 							{
			// 								document.getElementById("p3").innerHTML="*All fields are mandatory";
			// 							}
			// 							else
			// 							{
			// 								document.getElementById("p3").innerHTML="";
			// 								var xmlhttp = new XMLHttpRequest();   
			// 								xmlhttp.open("POST", "http://localhost:3000/update");
			// 								xmlhttp.setRequestHeader("Content-Type","application/json;charset=UTF-8");
			// 								onreset();
			// 								xmlhttp.send(JSON.stringify(myData));
			// 								console.log(myData);
			// 								// xmlhttp.onreadystatechange=function()
			// 								// {
			// 								// 	console.log("new http request");							
			// 								// 	if(this.readyState == 4 && this.status == 200)
			// 								//	{
			// 										row.cells[2].innerText=myData.name;
			// 										row.cells[3].innerText=myData.mobile;					//to reflect changes in table
			// 										row.cells[4].innerText=myData.address;
			// 										row.cells[5].innerText=myData.state;
			// 										row.cells[6].innerText=myData.city;
			// 										row.cells[7].innerText=myData.gender;
			// 										//onreset();
			// 										document.getElementById("city-data").style.visibility="hidden";
			// 										document.getElementById("save").style.visibility="visible";
			// 										document.getElementById("submit").style.visibility="hidden";
												         
			// 									         //console.log(JSON.stringify(mydata));
			// 									         //return true;
			// 								//	}
											
			// 								//}
			// 							}
														
			// 						}
			// 						else
			// 						{
			// 							document.getElementById('p2').innerText = "Invalid no";
			// 							//return false;
			// 						}
										
			// 					} 
			// 					else 
			// 					{
			// 						document.getElementById('p1').innerText = "Invalid name";
			// 						inputtext.focus();
			// 						//return false;
			// 					}
			// 				}
							
			// 			}
						
				// 	}
				// }
				
		//	}

			


			

			
			
			//document.getElementById("submit").onclick = 
			// function formValidation()              //to insert data
			// {
			// 	//e.preventDefault();
			// 	var name=document.getElementById('name').value;
			// 	var mobile=document.getElementById('mobile').value;
			// 	    // if(inputAlphabet(name))
			// 	    // {
				      
			// 	    //           return name.value;   
			// 	    // }
			// 		  	if(inputAlphabet(name))
			// 		  	{
			// 		  		return name.value;
			// 		  	}		
			// 		// function inputAlphabet(inputtext, alertMsg)      //validation on entered data
			// 		// {
			// 		// 	var alphaExp = /^[a-zA-Z]+$/;
			// 		//	var numericExpression = /^[0-9]+$/;
			// 			// if (inputtext.value.match(alphaExp)) 
			// 			// {
			// 				// document.getElementById("p1").innerHTML="";
			// 				// if(mobile.value.match(numericExpression))
			// 				// {
			// 				// 	document.getElementById("p2").innerHTML=" ";
			// 					console.log("clicked");
			// 					var myData = {};
			// 	        		myData.name = document.getElementById("name").value;
			// 	        		//console.log(myData.name);
			// 	        		myData.mobile = document.getElementById("mobile").value;
			// 	        		console.log(myData.mobile);
			// 	        		myData.address = document.getElementById("address").value;				        		
			// 	        		console.log(myData.address);
			// 	        		myData.state = document.getElementById("state").value;
			// 	        		console.log(myData.state);
			// 	        		 myData.city = document.getElementById("city").value;
			// 	        		// console.log(myData.city);				        		
			// 	        		if(document.getElementById("female").checked)
			// 	        			myData.gender=document.getElementById("female").value;
			// 	        		else myData.gender=document.getElementById("male").value;
			// 	    			console.log(myData.gender);
			// 	    			var xmlhttp = new XMLHttpRequest();   
			// 					xmlhttp.open("POST", "http://localhost:3000/insert");
			// 					xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			// 					document.getElementById("reset").click();
			// 					xmlhttp.send(JSON.stringify(myData));
			// 					console.log(myData);

			// 	    			xmlhttp.onreadystatechange=function()
			// 						{
			// 							console.log("new http request");							
			// 							if(this.readyState == 4 && this.status == 200)
			// 							{
			// 								console.log("data",xmlhttp.responseText);
			// 								var newid=JSON.parse(xmlhttp.responseText);             
			// 								var tabb=document.getElementById("table");
			// 								var len=(tabb.rows.length);
			// 								       //to show row inserted
			// 								console.log(newid);
			// 								if(!myData.name || !myData.mobile || !myData.address || !myData.state)
			// 								{
			// 									document.getElementById("p3").innerHTML="*All fields are mandatory";
			// 									//onreset();
			// 								}
			// 								else
			// 								{
			// 									var row=tabb.insertRow(len).outerHTML="<tr> \
			// 							           <td> <button oid=\"" + newid + "\" class=\"delete-btn btn-default\">Delete</button></td>\
			// 							           <td> <button oid=\"" + newid + "\" class=\"update-btn btn-default\">Update</button></td>\
			// 							           <td>"+ myData.name +"</td> \
			// 							           <td>"+ myData.mobile +"</td> \
			// 							           <td>"+ myData.address +"</td> \
			// 							           <td>"+ myData.state +"</td>\
			// 							           <td>"+ myData.city+"</td> \
			// 							           <td>"+ myData.gender +"</td> \
			// 							         </tr>";

			// 						         var newElements=document.querySelectorAll("[oid=\""+newid+"\"]");
			// 						        // console.log(newElements);
			// 						        // console.log(newElements[1]);
			// 						         newElements[0].onclick = onDeleteClick;
			// 						         newElements[1].onclick=onUpdateClick;
			// 						         //document.getElementById("city-data").style.visibility="hidden";
			// 						         onreset();

			// 							}
									
			// 						}
			// 					}
												
							//  }
							// else
							// {
							// 	document.getElementById('p2').innerText = "Invalid no";
							// 	//return false;
							// }
								
						//} 
						// else 
						// {
						// 	document.getElementById('p1').innerText = "Invalid name"; // This segment displays the validation rule for name.
						// 	//alert(alertMsg);
						// 	inputtext.focus();
						// 	return false;
						// }
					//}
				// function lengthDefine(inputtext, min, max) {
				// 	var uInput = inputtext.value;
				// 	if (uInput.length >= min && uInput.length <= max) {
				// 	return true;
				// 	} else {
				// 	document.getElementById('p2').innerText = "* Please enter valid number *"; // This segment displays the validation rule for username
				// 	inputtext.focus();
				// 	return false;
				// 	}
				// }

				/*document.getElementById("get-city").onclick = function() {
				console.log("clicked!");
				var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
				    if (this.readyState == 4 && this.status == 200) {
				       // Typical action to be performed when the document is ready:
				       console.log("data", xhttp.responseText);
				       var respObj1 = JSON.parse(xhttp.responseText);
				       console.log(respObj1[0]);
				       var table1 = "<table style=\"width:100%\"> \
				        <tr> \
				           <th>Id</th> \
				           <th>Name</th> \
				        </tr>";

				        for(var i = 0; i < respObj1.length; i++){
				         	table1 += "<tr> \
					           <td>"+ respObj1[i].id +"</td> \
					           <td>"+ respObj1[i].name +"</td> \
					         </tr>";
				         }
				       table1 += "</table>";

				       document.getElementById("city-data").innerHTML = table1;
				    }
				};
				xhttp.open("GET", "http://localhost:3000/city", true);
				xhttp.send();
			}

			document.getElementById("get-states").onclick = function() {
		    	console.log("clicked!");
				var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
				    if (this.readyState == 4 && this.status == 200) {
				       // Typical action to be performed when the document is ready:
				       console.log("data", xhttp.responseText);
				       var respObj2 = JSON.parse(xhttp.responseText);
				       console.log(respObj2[0]);

				       var table2 = "<table style=\"width:100%\"> \
				        <tr> \
				           <th>Id</th> \
				           <th>Name</th> \
				        </tr>";

				        for(var i = 0; i < respObj2.length; i++){
				         	table2 += "<tr> \
					           <td>"+ respObj2[i].id +"</td> \
					           <td>"+ respObj2[i].name +"</td> \
					         </tr>";
				         }
				       table2 += "</table>";

				       document.getElementById("state-data").innerHTML = table2;
				    }
				};
				xhttp.open("GET", "http://localhost:3000/states", true);
				xhttp.send();
			}

			document.getElementById("get-count").onclick = function() {
				var count = parseInt(document.getElementById("myText").value);
				//console.log("count", count);

				var xhttp = new XMLHttpRequest();

				xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
				       // Typical action to be performed when the document is ready:
				   console.log("data", xhttp.responseText);
					}
				};
				xhttp.open("GET","http://localhost:3000/count?c=count",true);
				xhttp.send();
			

			}*/

			/*document.getElementById("").function() {

				var count = parseInt(document.getElementById("myText").value);
				//console.log("count", count);
			}*/



		// 	} 
		}	
	</script>
</head>
	 	<body>
	 	<div class="container">
			<form class="form-horizontal">
			
			<div class="form-group">
				<p class="text-danger" id="p3"></p>
			
			 		<label class="control-label col-sm-2" for="name">Name:</label>
			 		<div class="col-sm-10">
			  		<input type="text" class="form-control" name="name" id="name" size="30" maxlength="20" placeholder="Enter name" required>
			  		<p class="text-danger" id="p1"></p>
			  		</div>
			 </div> 	

			<div class="form-group">
			 		<label class="control-label col-sm-2" for="mobile">Mobile No:</label>
			 		<div class="col-sm-10">
			  		<input type="text" class="form-control" name="mobile" id="mobile" size="30" minlength="10" maxlength="10" placeholder="Enter mobile no" required>
			  		<p class="text-danger" id="p2"></p>
			  		</div>
			  	
</div>
			  	<div class="form-group">
			  		<label class="control-label col-sm-2" for="address" >Address:</label>
			  		<div class="col-sm-10">
			  		
			  		 <textarea class="form-control" rows="3" id="address" maxlength="40" name="Address" size="30" placeholder="Enter address" required></textarea>
			  	</div>
			  	</div>

			  	<div class="form-group">
			  		<label class="control-label col-sm-2" for="state">State:</label>
			  		<div class="col-sm-10">
			  		<div id="state-data"></div>
			  		</div>
			  	</div>

				<div class="form-group">
			  		<label class="control-label col-sm-2" for="city">City:</label>
			  		<div class="col-sm-10">
			  		<div id="city-data"></div>	  		
			  		</div>
			  		</div>
			  	
				<div class="form-group">
				
					<label class="control-label col-sm-2" for="gender">Gender:</label>
					<div class="col-sm-10">
					 <label class="radio-inline">
						&nbsp;&nbsp;<input type="radio" name="gen" value="Female" id="female" class="gender" checked>Female
					</label>
					 <label class="radio-inline">
						&nbsp;&nbsp;<input type="radio" name="gen" value="Male" id="male" class="gender">Male
					</label>
					</div>
				</div>
				<center>
			 	<div class="form-group">
			  		<input type="submit" class="btn btn-primary btn-md" id="submit"></input>&nbsp;&nbsp;&nbsp;
			  		<button type="button" class="btn btn-primary btn-md" id="reset" onclick="onreset();">Reset</button> &nbsp;&nbsp;&nbsp;
			  		<button type="button" class="btn btn-primary btn-md" id="save">Save</button>
			  </center>
		  	</div>
		 	</form>
		 	</div>
		 	</div>
		 	<br>
		 	<br>
		 	<br>

			 <div class="container">
			  <div class="table-responsive">
			 	<div id="user-data"> </div>
			  </div>
	   	</div>
	   	<link rel="stylesheet" href="./css/bootstrap.min.css">
	   	<link rel="stylesheet" href="./css/mycss.css">
		<script src="./jquery/jquery.min.js"></script>
		<script src="./js/bootstrap.min.js"></script>
		<script type="text/javascript" src="./js/net.js"></script>
		<script type="text/javascript" src="./js/function.js"></script>
		<script type="text/javascript" src="./js/validation.js"></script>
	
	
	 </body>
</html>